{"openapi":"3.1.0","info":{"title":"Denodo AI SDK","summary":"Be fearless.","version":"0.3"},"paths":{"/health":{"get":{"tags":["Health Check"],"summary":"Health Check","description":"Health check endpoint for container orchestration.\nReturns status 200 if the service is running.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/getMetadata":{"get":{"tags":["Vector Store"],"summary":"Getmetadata","description":"This endpoint retrieves the metadata from a list of VDP databases (separated by commas) and returns it in JSON and natural language format. \nOptionally, if given access to a Denodo-supported vector store, it can also insert the metadata using the embeddings provider of your choice.","operationId":"getMetadata_getMetadata_get","security":[{"HTTPBasic":[]}],"parameters":[{"name":"vdp_database_names","in":"query","required":false,"schema":{"type":"string","default":"athletes","title":"Vdp Database Names"}},{"name":"embeddings_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Embeddings Provider"}},{"name":"embeddings_model","in":"query","required":false,"schema":{"type":"string","default":"models/text-embedding-004","title":"Embeddings Model"}},{"name":"vector_store_provider","in":"query","required":false,"schema":{"type":"string","default":"Chroma","title":"Vector Store Provider"}},{"name":"examples_per_table","in":"query","required":false,"schema":{"type":"integer","default":3,"title":"Examples Per Table"}},{"name":"view_descriptions","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"View Descriptions"}},{"name":"column_descriptions","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Column Descriptions"}},{"name":"associations","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Associations"}},{"name":"insert","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Insert"}},{"name":"overwrite","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Overwrite"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getMetadataResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/getConcepts":{"get":{"tags":["Deprecated"],"summary":"Getconcepts","description":"This endpoint extracts the concepts from a question and returns the embeddings for each concept.\n\nThis endpoint will also automatically look for the the following values in the environment variables for convenience, if not set:\n\n- EMBEDDINGS_PROVIDER\n- EMBEDDINGS_MODEL\n- CHAT_PROVIDER\n- CHAT_MODEL","operationId":"getConcepts_getConcepts_get","security":[{"HTTPBasic":[]}],"parameters":[{"name":"question","in":"query","required":true,"schema":{"type":"string","title":"Question"}},{"name":"chat_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Chat Provider"}},{"name":"chat_model","in":"query","required":false,"schema":{"type":"string","default":"gemini-2.0-flash","title":"Chat Model"}},{"name":"embeddings_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Embeddings Provider"}},{"name":"embeddings_model","in":"query","required":false,"schema":{"type":"string","default":"models/text-embedding-004","title":"Embeddings Model"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"integer"}},"title":"Response Getconcepts Getconcepts Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/similaritySearch":{"get":{"tags":["Vector Store"],"summary":"Similaritysearch","description":"This endpoint performs a similarity search on the vector database specified in the request.\nThe vector store MUST have been previously populated with the metadata of the views in the vector database\nusing getMetadata endpoint.","operationId":"similaritySearch_similaritySearch_get","security":[{"HTTPBasic":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","title":"Query"}},{"name":"vdp_database_names","in":"query","required":false,"schema":{"type":"string","default":"athletes","title":"Vdp Database Names"}},{"name":"embeddings_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Embeddings Provider"}},{"name":"embeddings_model","in":"query","required":false,"schema":{"type":"string","default":"models/text-embedding-004","title":"Embeddings Model"}},{"name":"vector_store_provider","in":"query","required":false,"schema":{"type":"string","default":"Chroma","title":"Vector Store Provider"}},{"name":"n_results","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"N Results"}},{"name":"scores","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Scores"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/similaritySearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/streamAnswerQuestion":{"get":{"tags":["Ask a Question - Streaming"],"summary":"Stream Answer Question Get","description":"This endpoint processes a natural language question and:\n\n- Searches for relevant tables using vector search\n- Determines whether the question should be answered using a SQL query or a metadata search\n- Generates a VQL query using an LLM if the question should be answered using a SQL query\n- Executes the VQL query and gets the data\n- Streams back an answer to the question using the data and the VQL query\n\nFor now, this endpoint only streams back the answer and doesn't return the JSON response like answerQuestion does.\n\nThis endpoint will also automatically look for the the following values in the environment variables for convenience:\n\n- EMBEDDINGS_PROVIDER\n- EMBEDDINGS_MODEL\n- VECTOR_STORE\n- SQL_GENERATION_PROVIDER\n- SQL_GENERATION_MODEL\n- CHAT_PROVIDER\n- CHAT_MODEL\n- VDB_NAMES\n\nAs you can see, you can specify a different provider for SQL generation and chat generation. This is because generating a correct SQL query\nis a complex task that should be handled with a powerful LLM.","operationId":"stream_answer_question_get_streamAnswerQuestion_get","security":[{"HTTPBasic":[]}],"parameters":[{"name":"question","in":"query","required":true,"schema":{"type":"string","title":"Question"}},{"name":"plot","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Plot"}},{"name":"plot_details","in":"query","required":false,"schema":{"type":"string","default":"","title":"Plot Details"}},{"name":"embeddings_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Embeddings Provider"}},{"name":"embeddings_model","in":"query","required":false,"schema":{"type":"string","default":"models/text-embedding-004","title":"Embeddings Model"}},{"name":"vector_store_provider","in":"query","required":false,"schema":{"type":"string","default":"Chroma","title":"Vector Store Provider"}},{"name":"sql_gen_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Sql Gen Provider"}},{"name":"sql_gen_model","in":"query","required":false,"schema":{"type":"string","default":"gemini-2.0-flash","title":"Sql Gen Model"}},{"name":"chat_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Chat Provider"}},{"name":"chat_model","in":"query","required":false,"schema":{"type":"string","default":"gemini-2.0-flash","title":"Chat Model"}},{"name":"vdp_database_names","in":"query","required":false,"schema":{"type":"string","default":"athletes","title":"Vdp Database Names"}},{"name":"use_views","in":"query","required":false,"schema":{"type":"string","default":"","title":"Use Views"}},{"name":"expand_set_views","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Expand Set Views"}},{"name":"custom_instructions","in":"query","required":false,"schema":{"type":"string","default":"","title":"Custom Instructions"}},{"name":"markdown_response","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Markdown Response"}},{"name":"vector_search_k","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Vector Search K"}},{"name":"mode","in":"query","required":false,"schema":{"enum":["default","data","metadata"],"type":"string","default":"default","title":"Mode"}},{"name":"disclaimer","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Disclaimer"}},{"name":"verbose","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Verbose"}}],"responses":{"200":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Ask a Question - Streaming"],"summary":"Stream Answer Question Post","description":"This endpoint processes a natural language question and:\n\n- Searches for relevant tables using vector search\n- Determines whether the question should be answered using a SQL query or a metadata search\n- Generates a VQL query using an LLM if the question should be answered using a SQL query\n- Executes the VQL query and gets the data\n- Streams back an answer to the question using the data and the VQL query\n\nFor now, this endpoint only streams back the answer and doesn't return the JSON response like answerQuestion does.\n\nThis endpoint will also automatically look for the the following values in the environment variables for convenience:\n\n- EMBEDDINGS_PROVIDER\n- EMBEDDINGS_MODEL\n- VECTOR_STORE\n- SQL_GENERATION_PROVIDER\n- SQL_GENERATION_MODEL\n- CHAT_PROVIDER\n- CHAT_MODEL\n- VDB_NAMES\n\nAs you can see, you can specify a different provider for SQL generation and chat generation. This is because generating a correct SQL query\nis a complex task that should be handled with a powerful LLM.","operationId":"stream_answer_question_post_streamAnswerQuestion_post","security":[{"HTTPBasic":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/streamAnswerQuestionRequest"}}}},"responses":{"200":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/streamAnswerQuestionUsingViews":{"post":{"tags":["Ask a Question - Streaming - Custom Vector Store"],"summary":"Streamanswerquestionusingviews","description":"The only difference between this endpoint and `streamAnswerQuestion` is that this endpoint \nexpects the result of the vector search to be passed in as a parameter.\n\nTo simply limit or force the LLM to use a specific set of views, please use answerQuestion.\n\nThis is useful for implementations with custom vector stores.\n\nThis endpoint will also automatically look for the the following values in the environment variables for convenience:\n\n- EMBEDDINGS_PROVIDER\n- EMBEDDINGS_MODEL\n- VECTOR_STORE\n- SQL_GENERATION_PROVIDER\n- SQL_GENERATION_MODEL\n- CHAT_PROVIDER\n- CHAT_MODEL\n\nAs you can see, you can specify a different provider for SQL generation and chat generation. This is because generating a correct SQL query\nis a complex task that should be handled with a powerful LLM.","operationId":"streamAnswerQuestionUsingViews_streamAnswerQuestionUsingViews_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/streamAnswerQuestionUsingViewsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBasic":[]}]}},"/answerQuestion":{"get":{"tags":["Ask a Question"],"summary":"Answer Question Get","description":"This endpoint processes a natural language question and:\n\n- Searches for relevant tables using vector search\n- Determines whether the question should be answered using a SQL query or a metadata search\n- Generates a VQL query using an LLM if the question should be answered using a SQL query\n- Executes the VQL query and gets the data\n- Generates an answer to the question using the data and the VQL query\n\nThis endpoint will also automatically look for the the following values in the environment variables for convenience:\n\n- EMBEDDINGS_PROVIDER\n- EMBEDDINGS_MODEL\n- VECTOR_STORE\n- SQL_GENERATION_PROVIDER\n- SQL_GENERATION_MODEL\n- CHAT_PROVIDER\n- CHAT_MODEL\n- VDB_NAMES\n\nAs you can see, you can specify a different provider for SQL generation and chat generation. This is because generating a correct SQL query\nis a complex task that should be handled with a powerful LLM.","operationId":"answer_question_get_answerQuestion_get","security":[{"HTTPBasic":[]}],"parameters":[{"name":"question","in":"query","required":true,"schema":{"type":"string","title":"Question"}},{"name":"plot","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Plot"}},{"name":"plot_details","in":"query","required":false,"schema":{"type":"string","default":"","title":"Plot Details"}},{"name":"embeddings_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Embeddings Provider"}},{"name":"embeddings_model","in":"query","required":false,"schema":{"type":"string","default":"models/text-embedding-004","title":"Embeddings Model"}},{"name":"vector_store_provider","in":"query","required":false,"schema":{"type":"string","default":"Chroma","title":"Vector Store Provider"}},{"name":"sql_gen_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Sql Gen Provider"}},{"name":"sql_gen_model","in":"query","required":false,"schema":{"type":"string","default":"gemini-2.0-flash","title":"Sql Gen Model"}},{"name":"chat_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Chat Provider"}},{"name":"chat_model","in":"query","required":false,"schema":{"type":"string","default":"gemini-2.0-flash","title":"Chat Model"}},{"name":"vdp_database_names","in":"query","required":false,"schema":{"type":"string","default":"athletes","title":"Vdp Database Names"}},{"name":"use_views","in":"query","required":false,"schema":{"type":"string","default":"","title":"Use Views"}},{"name":"expand_set_views","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Expand Set Views"}},{"name":"custom_instructions","in":"query","required":false,"schema":{"type":"string","default":"","title":"Custom Instructions"}},{"name":"markdown_response","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Markdown Response"}},{"name":"vector_search_k","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Vector Search K"}},{"name":"mode","in":"query","required":false,"schema":{"enum":["default","data","metadata"],"type":"string","default":"default","title":"Mode"}},{"name":"disclaimer","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Disclaimer"}},{"name":"verbose","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Verbose"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/answerQuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Ask a Question"],"summary":"Answer Question Post","description":"This endpoint processes a natural language question and:\n\n- Searches for relevant tables using vector search\n- Determines whether the question should be answered using a SQL query or a metadata search\n- Generates a VQL query using an LLM if the question should be answered using a SQL query\n- Executes the VQL query and gets the data\n- Generates an answer to the question using the data and the VQL query\n\nThis endpoint will also automatically look for the the following values in the environment variables for convenience:\n\n- EMBEDDINGS_PROVIDER\n- EMBEDDINGS_MODEL\n- VECTOR_STORE\n- SQL_GENERATION_PROVIDER\n- SQL_GENERATION_MODEL\n- CHAT_PROVIDER\n- CHAT_MODEL\n- VDB_NAMES\n\nAs you can see, you can specify a different provider for SQL generation and chat generation. This is because generating a correct SQL query\nis a complex task that should be handled with a powerful LLM.","operationId":"answer_question_post_answerQuestion_post","security":[{"HTTPBasic":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/answerQuestionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/answerQuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/answerDataQuestion":{"get":{"tags":["Ask a Question"],"summary":"Answer Data Question Get","description":"This endpoint processes a natural language question and tries to answer it using the data in Denodo.\n\n- Searches for relevant tables using vector search\n- Generates a VQL query using an LLM\n- Executes the VQL query and gets the data\n- Generates an answer to the question using the data and the VQL query\n\nThis endpoint will also automatically look for the the following values in the environment variables for convenience:\n\n- EMBEDDINGS_PROVIDER\n- EMBEDDINGS_MODEL\n- VECTOR_STORE\n- SQL_GENERATION_PROVIDER\n- SQL_GENERATION_MODEL\n- CHAT_PROVIDER\n- CHAT_MODEL\n- VDB_NAMES\n\nAs you can see, you can specify a different provider for SQL generation and chat generation. This is because generating a correct SQL query\nis a complex task that should be handled with a powerful LLM.","operationId":"answer_data_question_get_answerDataQuestion_get","security":[{"HTTPBasic":[]}],"parameters":[{"name":"question","in":"query","required":true,"schema":{"type":"string","title":"Question"}},{"name":"plot","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Plot"}},{"name":"plot_details","in":"query","required":false,"schema":{"type":"string","default":"","title":"Plot Details"}},{"name":"embeddings_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Embeddings Provider"}},{"name":"embeddings_model","in":"query","required":false,"schema":{"type":"string","default":"models/text-embedding-004","title":"Embeddings Model"}},{"name":"vector_store_provider","in":"query","required":false,"schema":{"type":"string","default":"Chroma","title":"Vector Store Provider"}},{"name":"sql_gen_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Sql Gen Provider"}},{"name":"sql_gen_model","in":"query","required":false,"schema":{"type":"string","default":"gemini-2.0-flash","title":"Sql Gen Model"}},{"name":"chat_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Chat Provider"}},{"name":"chat_model","in":"query","required":false,"schema":{"type":"string","default":"gemini-2.0-flash","title":"Chat Model"}},{"name":"vdp_database_names","in":"query","required":false,"schema":{"type":"string","default":"athletes","title":"Vdp Database Names"}},{"name":"use_views","in":"query","required":false,"schema":{"type":"string","default":"","title":"Use Views"}},{"name":"expand_set_views","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Expand Set Views"}},{"name":"custom_instructions","in":"query","required":false,"schema":{"type":"string","default":"","title":"Custom Instructions"}},{"name":"markdown_response","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Markdown Response"}},{"name":"vector_search_k","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Vector Search K"}},{"name":"disclaimer","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Disclaimer"}},{"name":"verbose","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Verbose"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/answerDataQuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Ask a Question"],"summary":"Answer Data Question Post","description":"This endpoint processes a natural language question and tries to answer it using the data in Denodo.\n\n- Searches for relevant tables using vector search\n- Generates a VQL query using an LLM\n- Executes the VQL query and gets the data\n- Generates an answer to the question using the data and the VQL query\n\nThis endpoint will also automatically look for the the following values in the environment variables for convenience:\n\n- EMBEDDINGS_PROVIDER\n- EMBEDDINGS_MODEL\n- VECTOR_STORE\n- SQL_GENERATION_PROVIDER\n- SQL_GENERATION_MODEL\n- CHAT_PROVIDER\n- CHAT_MODEL\n- VDB_NAMES\n\nAs you can see, you can specify a different provider for SQL generation and chat generation. This is because generating a correct SQL query\nis a complex task that should be handled with a powerful LLM.","operationId":"answer_data_question_post_answerDataQuestion_post","security":[{"HTTPBasic":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/answerDataQuestionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/answerDataQuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/answerMetadataQuestion":{"get":{"tags":["Ask a Question"],"summary":"Answer Metadata Question Get","description":"This endpoint processes a natural language question and tries to answer it using the metadata in Denodo.\nIt will do this by:\n\n- Searching for the relevant tables' schema using vector search\n- Generating an answer to the question using the metadata\n\nThis endpoint will also automatically look for the the following values in the environment variables for convenience:\n\n- EMBEDDINGS_PROVIDER\n- EMBEDDINGS_MODEL\n- VECTOR_STORE\n- SQL_GENERATION_PROVIDER\n- SQL_GENERATION_MODEL\n- CHAT_PROVIDER\n- CHAT_MODEL\n- VDB_NAMES\n\nAs you can see, you can specify a different provider for SQL generation and chat generation. This is because generating a correct SQL query\nis a complex task that should be handled with a powerful LLM.","operationId":"answer_metadata_question_get_answerMetadataQuestion_get","security":[{"HTTPBasic":[]}],"parameters":[{"name":"question","in":"query","required":true,"schema":{"type":"string","title":"Question"}},{"name":"plot","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Plot"}},{"name":"plot_details","in":"query","required":false,"schema":{"type":"string","default":"","title":"Plot Details"}},{"name":"embeddings_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Embeddings Provider"}},{"name":"embeddings_model","in":"query","required":false,"schema":{"type":"string","default":"models/text-embedding-004","title":"Embeddings Model"}},{"name":"vector_store_provider","in":"query","required":false,"schema":{"type":"string","default":"Chroma","title":"Vector Store Provider"}},{"name":"sql_gen_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Sql Gen Provider"}},{"name":"sql_gen_model","in":"query","required":false,"schema":{"type":"string","default":"gemini-2.0-flash","title":"Sql Gen Model"}},{"name":"chat_provider","in":"query","required":false,"schema":{"type":"string","default":"googleaistudio","title":"Chat Provider"}},{"name":"chat_model","in":"query","required":false,"schema":{"type":"string","default":"gemini-2.0-flash","title":"Chat Model"}},{"name":"vdp_database_names","in":"query","required":false,"schema":{"type":"string","default":"athletes","title":"Vdp Database Names"}},{"name":"use_views","in":"query","required":false,"schema":{"type":"string","default":"","title":"Use Views"}},{"name":"expand_set_views","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Expand Set Views"}},{"name":"custom_instructions","in":"query","required":false,"schema":{"type":"string","default":"","title":"Custom Instructions"}},{"name":"markdown_response","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Markdown Response"}},{"name":"vector_search_k","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Vector Search K"}},{"name":"disclaimer","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Disclaimer"}},{"name":"verbose","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Verbose"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/answerMetadataQuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Ask a Question"],"summary":"Answer Metadata Question Post","description":"This endpoint processes a natural language question and tries to answer it using the metadata in Denodo.\nIt will do this by:\n\n- Searching for the relevant tables' schema using vector search\n- Generating an answer to the question using the metadata\n\nThis endpoint will also automatically look for the the following values in the environment variables for convenience:\n\n- EMBEDDINGS_PROVIDER\n- EMBEDDINGS_MODEL\n- VECTOR_STORE\n- SQL_GENERATION_PROVIDER\n- SQL_GENERATION_MODEL\n- CHAT_PROVIDER\n- CHAT_MODEL\n- VDB_NAMES\n\nAs you can see, you can specify a different provider for SQL generation and chat generation. This is because generating a correct SQL query\nis a complex task that should be handled with a powerful LLM.","operationId":"answer_metadata_question_post_answerMetadataQuestion_post","security":[{"HTTPBasic":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/answerMetadataQuestionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/answerMetadataQuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/answerQuestionUsingViews":{"post":{"tags":["Ask a Question - Custom Vector Store"],"summary":"Answerquestionusingviews","description":"The only difference between this endpoint and `answerQuestion` is that this endpoint \nexpects the result of the vector search to be passed in as a parameter.\n\nTo simply limit or force the LLM to use a specific set of views, please use answerQuestion.\n\nThis is useful for implementations with custom vector stores.\n\nThis endpoint will also automatically look for the the following values in the environment variables for convenience:\n\n- EMBEDDINGS_PROVIDER\n- EMBEDDINGS_MODEL\n- VECTOR_STORE\n- SQL_GENERATION_PROVIDER\n- SQL_GENERATION_MODEL\n- CHAT_PROVIDER\n- CHAT_MODEL\n\nAs you can see, you can specify a different provider for SQL generation and chat generation. This is because generating a correct SQL query\nis a complex task that should be handled with a powerful LLM.","operationId":"answerQuestionUsingViews_answerQuestionUsingViews_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/answerQuestionUsingViewsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/answerQuestionUsingViewsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBasic":[]}]}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"TableSummary":{"properties":{"summary":{"type":"string","title":"Summary"}},"type":"object","required":["summary"],"title":"TableSummary"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"answerDataQuestionRequest":{"properties":{"question":{"type":"string","title":"Question"},"plot":{"type":"boolean","title":"Plot","default":false},"plot_details":{"type":"string","title":"Plot Details","default":""},"embeddings_provider":{"type":"string","title":"Embeddings Provider","default":"googleaistudio"},"embeddings_model":{"type":"string","title":"Embeddings Model","default":"models/text-embedding-004"},"vector_store_provider":{"type":"string","title":"Vector Store Provider","default":"Chroma"},"sql_gen_provider":{"type":"string","title":"Sql Gen Provider","default":"googleaistudio"},"sql_gen_model":{"type":"string","title":"Sql Gen Model","default":"gemini-2.0-flash"},"chat_provider":{"type":"string","title":"Chat Provider","default":"googleaistudio"},"chat_model":{"type":"string","title":"Chat Model","default":"gemini-2.0-flash"},"vdp_database_names":{"type":"string","title":"Vdp Database Names","default":"athletes"},"use_views":{"type":"string","title":"Use Views","default":""},"expand_set_views":{"type":"boolean","title":"Expand Set Views","default":true},"custom_instructions":{"type":"string","title":"Custom Instructions","default":""},"markdown_response":{"type":"boolean","title":"Markdown Response","default":true},"vector_search_k":{"type":"integer","title":"Vector Search K","default":5},"disclaimer":{"type":"boolean","title":"Disclaimer","default":true},"verbose":{"type":"boolean","title":"Verbose","default":true}},"type":"object","required":["question"],"title":"answerDataQuestionRequest"},"answerDataQuestionResponse":{"properties":{"answer":{"type":"string","title":"Answer"},"sql_query":{"type":"string","title":"Sql Query"},"query_explanation":{"type":"string","title":"Query Explanation"},"tokens":{"type":"object","title":"Tokens"},"execution_result":{"type":"object","title":"Execution Result"},"related_questions":{"items":{"type":"string"},"type":"array","title":"Related Questions"},"tables_used":{"items":{"type":"string"},"type":"array","title":"Tables Used"},"raw_graph":{"type":"string","title":"Raw Graph"},"sql_execution_time":{"type":"number","title":"Sql Execution Time"},"vector_store_search_time":{"type":"number","title":"Vector Store Search Time"},"llm_time":{"type":"number","title":"Llm Time"},"total_execution_time":{"type":"number","title":"Total Execution Time"}},"type":"object","required":["answer","sql_query","query_explanation","tokens","execution_result","related_questions","tables_used","raw_graph","sql_execution_time","vector_store_search_time","llm_time","total_execution_time"],"title":"answerDataQuestionResponse"},"answerMetadataQuestionRequest":{"properties":{"question":{"type":"string","title":"Question"},"plot":{"type":"boolean","title":"Plot","default":false},"plot_details":{"type":"string","title":"Plot Details","default":""},"embeddings_provider":{"type":"string","title":"Embeddings Provider","default":"googleaistudio"},"embeddings_model":{"type":"string","title":"Embeddings Model","default":"models/text-embedding-004"},"vector_store_provider":{"type":"string","title":"Vector Store Provider","default":"Chroma"},"sql_gen_provider":{"type":"string","title":"Sql Gen Provider","default":"googleaistudio"},"sql_gen_model":{"type":"string","title":"Sql Gen Model","default":"gemini-2.0-flash"},"chat_provider":{"type":"string","title":"Chat Provider","default":"googleaistudio"},"chat_model":{"type":"string","title":"Chat Model","default":"gemini-2.0-flash"},"vdp_database_names":{"type":"string","title":"Vdp Database Names","default":"athletes"},"use_views":{"type":"string","title":"Use Views","default":""},"expand_set_views":{"type":"boolean","title":"Expand Set Views","default":true},"custom_instructions":{"type":"string","title":"Custom Instructions","default":""},"markdown_response":{"type":"boolean","title":"Markdown Response","default":true},"vector_search_k":{"type":"integer","title":"Vector Search K","default":5},"disclaimer":{"type":"boolean","title":"Disclaimer","default":true},"verbose":{"type":"boolean","title":"Verbose","default":true}},"type":"object","required":["question"],"title":"answerMetadataQuestionRequest"},"answerMetadataQuestionResponse":{"properties":{"answer":{"type":"string","title":"Answer"},"sql_query":{"type":"string","title":"Sql Query"},"query_explanation":{"type":"string","title":"Query Explanation"},"tokens":{"type":"object","title":"Tokens"},"execution_result":{"type":"object","title":"Execution Result"},"related_questions":{"items":{"type":"string"},"type":"array","title":"Related Questions"},"tables_used":{"items":{"type":"string"},"type":"array","title":"Tables Used"},"raw_graph":{"type":"string","title":"Raw Graph"},"sql_execution_time":{"type":"number","title":"Sql Execution Time"},"vector_store_search_time":{"type":"number","title":"Vector Store Search Time"},"llm_time":{"type":"number","title":"Llm Time"},"total_execution_time":{"type":"number","title":"Total Execution Time"}},"type":"object","required":["answer","sql_query","query_explanation","tokens","execution_result","related_questions","tables_used","raw_graph","sql_execution_time","vector_store_search_time","llm_time","total_execution_time"],"title":"answerMetadataQuestionResponse"},"answerQuestionRequest":{"properties":{"question":{"type":"string","title":"Question"},"plot":{"type":"boolean","title":"Plot","default":false},"plot_details":{"type":"string","title":"Plot Details","default":""},"embeddings_provider":{"type":"string","title":"Embeddings Provider","default":"googleaistudio"},"embeddings_model":{"type":"string","title":"Embeddings Model","default":"models/text-embedding-004"},"vector_store_provider":{"type":"string","title":"Vector Store Provider","default":"Chroma"},"sql_gen_provider":{"type":"string","title":"Sql Gen Provider","default":"googleaistudio"},"sql_gen_model":{"type":"string","title":"Sql Gen Model","default":"gemini-2.0-flash"},"chat_provider":{"type":"string","title":"Chat Provider","default":"googleaistudio"},"chat_model":{"type":"string","title":"Chat Model","default":"gemini-2.0-flash"},"vdp_database_names":{"type":"string","title":"Vdp Database Names","default":"athletes"},"use_views":{"type":"string","title":"Use Views","default":""},"expand_set_views":{"type":"boolean","title":"Expand Set Views","default":true},"custom_instructions":{"type":"string","title":"Custom Instructions","default":""},"markdown_response":{"type":"boolean","title":"Markdown Response","default":true},"vector_search_k":{"type":"integer","title":"Vector Search K","default":5},"mode":{"type":"string","enum":["default","data","metadata"],"title":"Mode","default":"default"},"disclaimer":{"type":"boolean","title":"Disclaimer","default":true},"verbose":{"type":"boolean","title":"Verbose","default":true}},"type":"object","required":["question"],"title":"answerQuestionRequest"},"answerQuestionResponse":{"properties":{"answer":{"type":"string","title":"Answer"},"sql_query":{"type":"string","title":"Sql Query"},"query_explanation":{"type":"string","title":"Query Explanation"},"tokens":{"type":"object","title":"Tokens"},"execution_result":{"type":"object","title":"Execution Result"},"related_questions":{"items":{"type":"string"},"type":"array","title":"Related Questions"},"tables_used":{"items":{"type":"string"},"type":"array","title":"Tables Used"},"raw_graph":{"type":"string","title":"Raw Graph"},"sql_execution_time":{"type":"number","title":"Sql Execution Time"},"vector_store_search_time":{"type":"number","title":"Vector Store Search Time"},"llm_time":{"type":"number","title":"Llm Time"},"total_execution_time":{"type":"number","title":"Total Execution Time"}},"type":"object","required":["answer","sql_query","query_explanation","tokens","execution_result","related_questions","tables_used","raw_graph","sql_execution_time","vector_store_search_time","llm_time","total_execution_time"],"title":"answerQuestionResponse"},"answerQuestionUsingViewsRequest":{"properties":{"question":{"type":"string","title":"Question"},"vector_search_tables":{"items":{"type":"string"},"type":"array","title":"Vector Search Tables"},"plot":{"type":"boolean","title":"Plot","default":false},"plot_details":{"type":"string","title":"Plot Details","default":""},"embeddings_provider":{"type":"string","title":"Embeddings Provider","default":"googleaistudio"},"embeddings_model":{"type":"string","title":"Embeddings Model","default":"models/text-embedding-004"},"vector_store_provider":{"type":"string","title":"Vector Store Provider","default":"Chroma"},"sql_gen_provider":{"type":"string","title":"Sql Gen Provider","default":"googleaistudio"},"sql_gen_model":{"type":"string","title":"Sql Gen Model","default":"gemini-2.0-flash"},"chat_provider":{"type":"string","title":"Chat Provider","default":"googleaistudio"},"chat_model":{"type":"string","title":"Chat Model","default":"gemini-2.0-flash"},"markdown_response":{"type":"boolean","title":"Markdown Response","default":true},"custom_instructions":{"type":"string","title":"Custom Instructions","default":""},"vector_search_k":{"type":"integer","title":"Vector Search K","default":5},"mode":{"type":"string","enum":["default","data","metadata"],"title":"Mode","default":"default"},"disclaimer":{"type":"boolean","title":"Disclaimer","default":true},"verbose":{"type":"boolean","title":"Verbose","default":true}},"type":"object","required":["question","vector_search_tables"],"title":"answerQuestionUsingViewsRequest"},"answerQuestionUsingViewsResponse":{"properties":{"answer":{"type":"string","title":"Answer"},"sql_query":{"type":"string","title":"Sql Query"},"query_explanation":{"type":"string","title":"Query Explanation"},"tokens":{"type":"object","title":"Tokens"},"execution_result":{"type":"object","title":"Execution Result"},"related_questions":{"items":{"type":"string"},"type":"array","title":"Related Questions"},"tables_used":{"items":{"type":"string"},"type":"array","title":"Tables Used"},"raw_graph":{"type":"string","title":"Raw Graph"},"sql_execution_time":{"type":"number","title":"Sql Execution Time"},"vector_store_search_time":{"type":"number","title":"Vector Store Search Time"},"llm_time":{"type":"number","title":"Llm Time"},"total_execution_time":{"type":"number","title":"Total Execution Time"}},"type":"object","required":["answer","sql_query","query_explanation","tokens","execution_result","related_questions","tables_used","raw_graph","sql_execution_time","vector_store_search_time","llm_time","total_execution_time"],"title":"answerQuestionUsingViewsResponse"},"getMetadataResponse":{"properties":{"db_schema_json":{"type":"object","title":"Db Schema Json"},"db_schema_text":{"items":{"$ref":"#/components/schemas/TableSummary"},"type":"array","title":"Db Schema Text"}},"type":"object","required":["db_schema_json","db_schema_text"],"title":"getMetadataResponse"},"similaritySearchResponse":{"properties":{"views":{"items":{"type":"string"},"type":"array","title":"Views"}},"type":"object","required":["views"],"title":"similaritySearchResponse"},"streamAnswerQuestionRequest":{"properties":{"question":{"type":"string","title":"Question"},"plot":{"type":"boolean","title":"Plot","default":false},"plot_details":{"type":"string","title":"Plot Details","default":""},"embeddings_provider":{"type":"string","title":"Embeddings Provider","default":"googleaistudio"},"embeddings_model":{"type":"string","title":"Embeddings Model","default":"models/text-embedding-004"},"vector_store_provider":{"type":"string","title":"Vector Store Provider","default":"Chroma"},"sql_gen_provider":{"type":"string","title":"Sql Gen Provider","default":"googleaistudio"},"sql_gen_model":{"type":"string","title":"Sql Gen Model","default":"gemini-2.0-flash"},"chat_provider":{"type":"string","title":"Chat Provider","default":"googleaistudio"},"chat_model":{"type":"string","title":"Chat Model","default":"gemini-2.0-flash"},"vdp_database_names":{"type":"string","title":"Vdp Database Names","default":"athletes"},"use_views":{"type":"string","title":"Use Views","default":""},"expand_set_views":{"type":"boolean","title":"Expand Set Views","default":true},"custom_instructions":{"type":"string","title":"Custom Instructions","default":""},"markdown_response":{"type":"boolean","title":"Markdown Response","default":true},"vector_search_k":{"type":"integer","title":"Vector Search K","default":5},"mode":{"type":"string","enum":["default","data","metadata"],"title":"Mode","default":"default"},"disclaimer":{"type":"boolean","title":"Disclaimer","default":true},"verbose":{"type":"boolean","title":"Verbose","default":true}},"type":"object","required":["question"],"title":"streamAnswerQuestionRequest"},"streamAnswerQuestionUsingViewsRequest":{"properties":{"question":{"type":"string","title":"Question"},"vector_search_tables":{"items":{"type":"string"},"type":"array","title":"Vector Search Tables"},"plot":{"type":"boolean","title":"Plot","default":false},"plot_details":{"type":"string","title":"Plot Details","default":""},"embeddings_provider":{"type":"string","title":"Embeddings Provider","default":"googleaistudio"},"embeddings_model":{"type":"string","title":"Embeddings Model","default":"models/text-embedding-004"},"vector_store_provider":{"type":"string","title":"Vector Store Provider","default":"Chroma"},"sql_gen_provider":{"type":"string","title":"Sql Gen Provider","default":"googleaistudio"},"sql_gen_model":{"type":"string","title":"Sql Gen Model","default":"gemini-2.0-flash"},"chat_provider":{"type":"string","title":"Chat Provider","default":"googleaistudio"},"chat_model":{"type":"string","title":"Chat Model","default":"gemini-2.0-flash"},"custom_instructions":{"type":"string","title":"Custom Instructions","default":""},"markdown_response":{"type":"boolean","title":"Markdown Response","default":true},"vector_search_k":{"type":"integer","title":"Vector Search K","default":5},"mode":{"type":"string","enum":["default","data","metadata"],"title":"Mode","default":"default"},"disclaimer":{"type":"boolean","title":"Disclaimer","default":true},"verbose":{"type":"boolean","title":"Verbose","default":true}},"type":"object","required":["question","vector_search_tables"],"title":"streamAnswerQuestionUsingViewsRequest"}},"securitySchemes":{"HTTPBasic":{"type":"http","scheme":"basic"}}}}